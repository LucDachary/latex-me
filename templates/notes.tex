\documentclass[a4paper, 11pt, twocolumn]{article}
% https://www.overleaf.com/learn/latex/Headers_and_footers
% article default style is "plain", meaning no headers. Overriding.
\usepackage{fancyhdr}
\usepackage{booktabs} % Fancy tables: \toprule, \midrule, \bottomrule
\usepackage{hyperref} % \href
\hypersetup{
	colorlinks=true,
	linkcolor=TealBlue, % ToC and \ref{}
	urlcolor=Cerulean, % \href{}
	pdftitle={TODO PDF title},
	pdfpagemode=FullScreen,
	breaklinks=true,
}

\usepackage[dvipsnames]{xcolor}

\definecolor{backcolour}{gray}{0.95}
\usepackage{listings}
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{OliveGreen},
    % keywordstyle=\color{magenta},
    % numberstyle=\tiny\color{codegray},
    stringstyle=\color{Mahogany},
    basicstyle=\ttfamily,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=12pt,
    numberstyle=\small,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
	frame=shadowbox,
	rulesepcolor=\color{gray},
}
\usepackage{newverbs} %  for \collectvert
% Make \verb|...| contents show.
\renewcommand{\verb}{\collectverb{\color{black}\colorbox{lime}}}
\lstset{style=mystyle}

% Useless with xelatex
% \usepackage[utf8]{inputenc} % permet d'utiliser UTF-8 plutôt que l'ASCII pur (donc les accents clavier)
\usepackage[english]{babel}

\usepackage[T1]{fontenc} % polices de caractères "extended computer modern" (EC)
% Set "Latin Modern Sans Serif" as default font.
\renewcommand{\familydefault}{lmss}
\usepackage{fontspec}
% Set JetBrainsMono NF as default monospace font.
\setmonofont{JetBrainsMono Nerd Font}[
    %Contextuals = Alternate,
    % Ligatures = TeX,
    % Scale=0.8,
    % Scale=MatchLowercase,
	% Color=darkgray,
]
\newcommand{\code}[1]{\texttt{\colorbox{lightgray}{#1}}} % new command \code{}

\usepackage{multicol}
\usepackage{float}
\usepackage{fancyvrb}
\usepackage{csquotes}
\usepackage[dvipsnames]{xcolor}
\usepackage{graphicx}  % To include pictures.

\usepackage{listings}
\fvset{ % Configuration for all Verbatim environments.
    commandchars=\\\{\}, % See documentation http://texdoc.net/texmf-dist/doc/latex/fancyvrb/fancyvrb.pdf#page=14
    commentchar=\%, % Allows to gobble end-of-line character if the line ends with "%"
}
\definecolor{backcolour}{rgb}{0.95,0.95,0.95}
\lstdefinestyle{mystyle}{
	backgroundcolor=\color{backcolour},
	commentstyle=\color{OliveGreen},
	% keywordstyle=\color{magenta},
	% numberstyle=\tiny\color{codegray},
	stringstyle=\color{Mahogany},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,
	breaklines=true,
	captionpos=b,
	keepspaces=true,
	numbers=left,
	numbersep=7pt,
	numberstyle=\footnotesize,
	showspaces=false,
	showstringspaces=false,
	showtabs=false,
	tabsize=2,
	frame=shadowbox,
}
\lstset{
	style=mystyle,
	% Instructions below override mystyle
}

\usepackage{etoolbox}
\usepackage{geometry}
\geometry{
	% or "landscape"
    portrait,
    top=20mm,
    left=10mm,
    right=10mm,
    bottom=15mm,
}
\graphicspath{{doc/}}  % LDA not working, I'm prefixing pictures with "doc/".
\pagestyle{empty} % no page numbers

% twocolumn advanced settings.
\setlength{\columnseprule}{0.5pt}
\setlength{\columnsep}{20mm}
% See https://tex.stackexchange.com/a/548156

% Disable paragraph indentation all in this include. See https://tex.stackexchange.com/a/27807.
\usepackage{parskip}

\title{TODO Title}
\author{TODO Author}

\begin{document}
\makeatletter % to call before invoking \@title or \@author

% https://www.overleaf.com/learn/latex/Headers_and_footers
\pagestyle{fancy}
\setlength{\headheight}{13.59999pt}
\fancyhead{} % clear all header fields
\fancyhead[HL]{\@author}
\fancyhead[HC]{\textbf \@title}
\fancyhead[HR]{\@date}

\begin{lstlisting}[title=TODO]
TODO
\end{lstlisting}

\pagebreak

Page 2 content

\pagebreak

Page 3 content

\end{document}
